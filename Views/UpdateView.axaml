<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:CheckHash.ViewModels"
             xmlns:icons="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
             x:Class="CheckHash.Views.UpdateView"
             x:DataType="vm:UpdateViewModel">

    <StackPanel Spacing="20">
        <TextBlock Text="{Binding Localization[Title_Update]}" FontSize="20" FontWeight="Bold" />

        <StackPanel Orientation="Horizontal" Spacing="10">
            <icons:MaterialIcon Kind="InformationCircle" Width="24" Height="24" Foreground="#00bfff" />
            <TextBlock Text="{Binding CurrentVersionText}" VerticalAlignment="Center" FontSize="16" />
        </StackPanel>

        <Grid ColumnDefinitions="Auto, 150">
            <TextBlock Grid.Column="0" Text="{Binding Localization[Lbl_Channel]}" VerticalAlignment="Center"
                       Margin="0,0,10,0" />
            <ComboBox Grid.Column="1" SelectedIndex="{Binding SelectedChannelIndex}">
                <ComboBoxItem Content="{Binding Localization[Channel_Stable]}" />

                <ComboBoxItem Content="{Binding Localization[Channel_Dev]}" IsEnabled="{Binding IsDevChannelEnabled}" />
            </ComboBox>
        </Grid>

        <StackPanel Orientation="Horizontal" Spacing="10">
            <Button Command="{Binding CheckUpdateCommand}"
                    IsEnabled="{Binding !IsChecking}"
                    Padding="15,8">
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <icons:MaterialIcon Kind="CloudSync" IsVisible="{Binding !IsChecking}" />
                    <ProgressBar IsIndeterminate="True" Width="20" Height="20" IsVisible="{Binding IsChecking}" />
                    <TextBlock Text="{Binding Localization[Btn_CheckNow]}" />
                </StackPanel>
            </Button>
        </StackPanel>

        <ProgressBar Minimum="0" Maximum="100" Value="{Binding DownloadProgress}"
                     Height="20" IsVisible="{Binding IsDownloading}" />

        <TextBlock Text="{Binding StatusMessage}"
                   Foreground="Gray" FontStyle="Italic" TextWrapping="Wrap" />

    </StackPanel>
</UserControl>